<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="ops.js"></script>
  <script src="chip8.js"></script>

</head>

<body>
<canvas id="screen" width="1024" height="768"></canvas>
  </canvas>
  <div>
      Select a text file:
      <input type="file" id="fileInput">
    </div>
  <script>

  window.onload = function() {
      var fileInput = document.getElementById('fileInput');

      fileInput.addEventListener('change', function(e) {
        var file = fileInput.files[0];
        Processor.Reset();
        Processor.LoadProgram(file);
      });


  }

  setInterval(function(){
    if(Processor.PROGRAM_LOADED == true)
    {
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();
      Processor.RunCycle();

    }

  }, 16);

  setInterval(function(){
    if(Processor.PROGRAM_LOADED == true)
      Processor.DebugRender();

  }, 16);


  </script>

</body>

</html>
